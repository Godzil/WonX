2000/11/18(土)

wonx-b04 公開

UNIXTimer.c で，コールバック関数が呼ばれるたびにコールバック関数を
設定しなおすように修正．
(UNIXTimer_ON() 中に signal() を追加)
(IRIX ではコール毎にコールバック関数がクリアされてしまうことへの対処)

ualarm() は BSD 依存なので，alarm() を使用するように修正．

UNIXTimer クラスのインターバル時間の設定の単位をマイクロ秒からミリ秒に変更．

シリアル通信をサポート．(WonxSerialPort, WWSerialPort, comm.c 参照)

key.c 中の printf() で，戻り値の表示の際に関数名が表示されていなかったのを
修正．




2000/11/13(月)

wonx-b03 公開

ヘッダファイルを独自に作成．Wonx のみでコンパイル可能になった．
libwonx.a のリンク時に Error() 関数がぶつかる可能性があるので，
Wonx_Error() に変更した．
bios_exit() を追加．
sprite_set_char, sprite_get_char で，パレット番号が８を引いた値で
指定されていないバグを修正．
disp.c の font_set_monodata(), font_set_colordata(), font_get_data(),
screen_set_char(), screen_get_char(), sprite_set_data() の引数を
void * から適切な型に変更．
サンプルプログラムと SpeedMac を添付した．
ドキュメントを追加した．




2000/11/3(金)

wonx-b02 公開

割り込み処理の追加．タイマ割り込みサポート．
(UNIXTimer, WWInterrupt, WWTimer, WonxSystem 追加)
割り込みサポートに合わせて，互換関数を UNIXTimer_Pause(), UNIXTimer_Unpause()
でくくった．
UNIXTimer, WWTimer, WonxSystem のコールバック関数などは，
割り込み特有のバグが無いか細かくチェックする必要がある．
(コールバック関数中で割り込みの設定が変わってしまったり，コールバック関数から
 コールバック関数が呼ばれたりすることはないかどうかチェックする必要がある)




2000/10/9(月)

wonx-b01 公開

テキスト表示機能の追加．(0〜127のASCII文字のみで，漢字は未対応)

Wonx クラスを作成し，すべてのリソースを Wonx クラスで管理するように変更．
(Wonx.x WonxP.h 参照)

p を押して画面の表示/非表示を切替えたときに，LCDパネルの再描画を行うように
改良．

コンパイルオプションに -Wall を追加．

disp.c で重複した処理をしている関数の処理部分をまとめた．




2000/10/5(木)

wonx-a07 公開

WWLCDPanel にビットマップデータを２枚持たせ，一度描画したビットマップは
描画しないように修正．Xサーバの負荷を減らした．
(WWLCDPanel関連と，XDisplay.c の XDisplay_DrawLCDWindow() を改良)
(XDisplay.c の XDisplay_DrawLCDWindow() には，無駄な malloc() があるので，
 そのうち改良が必要)

wonx-a05 と wonx-a06 の WWDisplay.c (WWDisplay_DrawScreen()) の
両方を試した結果，wonx-a05 のほうが高速だったので，wonx-a05 のほうを
使用することにした．




2000/10/4(水)

wonx-a06 公開

WWDisplay_DrawScreen() のアルゴリズムを大幅に修正．
たいして高速にならなかった．X サーバの描画がホットスポットになっていると
思われるので，描画量を減らす努力が必要．




2000/10/3(火)

wonx-a05 公開

XDisplay_DrawLCDWindow() を修正．無駄な計算をループ外に出した．

WWDisplay_DrawScreen() を修正．無駄な計算をループ外に出した．

ホットスポットを調べたら，Xの描画部分(XDisplay.c の XDisplay_DrawLCDWindow()の
ループ部分)がホットスポットになっていたので，ピクセルごとに配列を
作って，描画速度を上げた．




2000/9/30(土)

wonx-a04 公開

XDisplay.c 内の表示ルーチンを改良し，描画を多少高速にした．

WWLCDPanel のデータの格納方法を変更した．
(２ピクセルで１バイトだったのを，１ピクセルで１バイトを割り当てるようにした)
(高速化のためだが，将来のカラー対応(241色？)のことも考えた)

WonxDisplay_Sync() を追加．get 系の関数内での無駄な描画を減らした．

スプライトウインドウ機能を実装．(未テスト)

時刻関連の関数を実装．(timer.c)

スプライトの優先順位を修正．(「番号が若いもののほうが優先」に修正した)




2000/9/28(木)

wonx-a03 公開

screen2_set_window()の表示範囲を修正．
マニュアルの screen2_set_window() の説明には「表示領域の横幅と縦幅」と
書いてあるが，実際には「表示領域の横幅+1と縦幅+1」で動作する
みたい？(未確認)なので，-1 しなくてよい？
もしくは，WonderWitch での実際の動作は，
ex = sx + WWScreen_GetDrawWidth( screen);
でなく
ex = WWScreen_GetDrawWidth( screen);
なのかもしれない．

スプライトの有効/無効を実装した．

LCDカラーマップ，パレット，キャラクター，スプライトのデータダンプ機能を実装．

関数呼び出し時の表示メッセージを改良．




2000/9/27(水)

Wonx-a02 公開

テキスト表示関連の関数を実行したときに，(あいかわらず文字は表示されないが)
せめてターミナルに文字列を出力するようにした．

スクリーン２のウインドウ機能を実装した．




2000/9/26(火)

Wonx-a01 公開

